<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>GoOracle by alvarolm</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-light.css">
    <meta name="viewport" content="width=device-width">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>GoOracle</h1>
        <p>GoOracle is a Golang plugin for SublimeText that integrates the Go oracle tool.</p>

        <p class="view"><a href="https://github.com/alvarolm/GoGuru">View the Project on GitHub <small>alvarolm/GoGuru</small></a></p>


        <ul>
          <li><a href="https://github.com/alvarolm/GoGuru/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/alvarolm/GoGuru/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/alvarolm/GoGuru">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a id="gooracle" class="anchor" href="#gooracle" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>GoOracle</h1>

<p>GoOracle is a Golang plugin for <a href="http://www.sublimetext.com/">SublimeText</a> that integrates the Go <a href="https://godoc.org/code.google.com/p/go.tools/oracle">oracle</a> tool.</p>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Usage</h2>

<p>Select, or place your cursor over, a symbol (function, variable, constant etc) and press <code>ctrl+shift+o</code>. You will be presented with the following modes of analysis to choose from:</p>

<pre><code>callees     show possible targets of selected function call
callers     show possible callers of selected function
callgraph   show complete callgraph of program
callstack   show path from callgraph root to selected function
describe    describe selected syntax: definition, methods, etc
freevars    show free variables of selection
implements  show 'implements' relation for selected package
peers       show send/receive corresponding to selected channel op
referrers   show all refs to entity denoted by selected identifier
</code></pre>

<p>Select one and the output will be displayed in a new tab.</p>

<h2>
<a id="install" class="anchor" href="#install" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Install</h2>

<p>Install Sublime Package Control (if you haven't done so already) from <a href="http://wbond.net/sublime_packages/package_control">http://wbond.net/sublime_packages/package_control</a>. Be sure to restart ST to complete the installation.</p>

<p>Bring up the command palette (default ctrl+shift+p or cmd+shift+p) and start typing Package Control: Install Package then press return or click on that option to activate it. You will be presented with a new Quick Panel with the list of available packages. Type GoOracle and press return or on its entry to install GoOracle. If there is no entry for GoOracle, you most likely already have it installed.</p>

<p>Oracle requires several variables to be set in order to work. These are explained in the comments of the default settings <code>Preferences &gt; Package Settings &gt; GoOracle &gt; Settings-Default</code>:</p>

<div class="highlight highlight-source-js"><pre>{
    <span class="pl-c">// env is a map of GOPATH, GOROOT and PATH variables.</span>
    <span class="pl-c">// e.g "env": { "PATH": "$HOME/go/bin:$PATH" }</span>
    <span class="pl-s"><span class="pl-pds">"</span>env<span class="pl-pds">"</span></span><span class="pl-k">:</span> {},

    <span class="pl-c">// oracle_scope is an array of scopes of analysis for oracle.</span>
    <span class="pl-c">// e.g (for github.com/juju/juju) "oracle_scope": ["github.com/juju/juju/cmd/juju", "github.com/juju/juju/cmd/jujud"]</span>
    <span class="pl-s"><span class="pl-pds">"</span>oracle_scope<span class="pl-pds">"</span></span><span class="pl-k">:</span> [],

    <span class="pl-c">// The format of oracle's output can be one of: 'json', 'xml' or 'plain'</span>
    <span class="pl-s"><span class="pl-pds">"</span>oracle_format<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>json<span class="pl-pds">"</span></span>,

    <span class="pl-c">// The output can either be one of: 'buffer', 'output_panel'</span>
    <span class="pl-c">// Buffers can hold results from more than one invocation</span>
    <span class="pl-c">// Output panels sit underneath the editor area and are easily dismissed</span>
    <span class="pl-s"><span class="pl-pds">"</span>output<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>buffer<span class="pl-pds">"</span></span>
}</pre></div>

<p>You set your own variables in <code>Preferences &gt; Package Settings &gt; GoOracle &gt; Settings-User</code>. Below is an example which sets up GoOracle to be used on the <a href="github.com/juju/juju">github.com/juju/juju</a> codebase:</p>

<div class="highlight highlight-source-js"><pre>{
    <span class="pl-s"><span class="pl-pds">"</span>env<span class="pl-pds">"</span></span><span class="pl-k">:</span> { <span class="pl-s"><span class="pl-pds">"</span>GOPATH<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>$HOME/go<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>GOROOT<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>$HOME/.gvm/gos/go1.2.1<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>PATH<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>$GOPATH/bin:$PATH<span class="pl-pds">"</span></span> },
    <span class="pl-s"><span class="pl-pds">"</span>oracle_scope<span class="pl-pds">"</span></span><span class="pl-k">:</span> [<span class="pl-s"><span class="pl-pds">"</span>github.com/juju/juju/cmd/juju<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>github.com/juju/juju/cmd/jujud<span class="pl-pds">"</span></span>],
    <span class="pl-s"><span class="pl-pds">"</span>oracle_format<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>json<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>output<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>buffer<span class="pl-pds">"</span></span>
}</pre></div>

<p>You can also make project specific settings. First save your current workspace as a project <code>Project &gt; Save as project ...</code>, then edit your project <code>Project &gt; Edit Project</code>. Below is an example which sets up GoOracle to be used on the <a href="github.com/juju/juju">github.com/juju/juju</a> codebase:</p>

<div class="highlight highlight-source-js"><pre>{
    <span class="pl-s"><span class="pl-pds">"</span>folders<span class="pl-pds">"</span></span><span class="pl-k">:</span>
    [
        {
            <span class="pl-s"><span class="pl-pds">"</span>follow_symlinks<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-c1">true</span>,
            <span class="pl-s"><span class="pl-pds">"</span>path<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>/home/user/go/src/github.com/juju/juju<span class="pl-pds">"</span></span>
        }
    ],
    <span class="pl-s"><span class="pl-pds">"</span>settings<span class="pl-pds">"</span></span><span class="pl-k">:</span>
    {
        <span class="pl-s"><span class="pl-pds">"</span>GoOracle<span class="pl-pds">"</span></span><span class="pl-k">:</span> {
            <span class="pl-s"><span class="pl-pds">"</span>oracle_scope<span class="pl-pds">"</span></span><span class="pl-k">:</span> [<span class="pl-s"><span class="pl-pds">"</span>github.com/juju/juju/cmd/juju<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>github.com/juju/juju/cmd/jujud<span class="pl-pds">"</span></span>],
            <span class="pl-s"><span class="pl-pds">"</span>output<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>output_panel<span class="pl-pds">"</span></span>
        }
    },
}</pre></div>

<p>Default key binding:</p>

<div class="highlight highlight-source-js"><pre>[
    { <span class="pl-s"><span class="pl-pds">"</span>keys<span class="pl-pds">"</span></span><span class="pl-k">:</span> [<span class="pl-s"><span class="pl-pds">"</span>ctrl+shift+o<span class="pl-pds">"</span></span>], <span class="pl-s"><span class="pl-pds">"</span>command<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>go_oracle<span class="pl-pds">"</span></span>},
    { <span class="pl-s"><span class="pl-pds">"</span>keys<span class="pl-pds">"</span></span><span class="pl-k">:</span> [<span class="pl-s"><span class="pl-pds">"</span>ctrl+alt+shift+o<span class="pl-pds">"</span></span>], <span class="pl-s"><span class="pl-pds">"</span>command<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>go_oracle_show_results<span class="pl-pds">"</span></span>},
]</pre></div>

<p>You can set your own key binding by copying the above into <code>Preferences &gt; Keybindings - User</code> and replacing ctrl+shift+o with your preferred key(s).</p>

<p>You can also set a key binding for a specific mode by adding a "mode" arg, e.g.:</p>

<div class="highlight highlight-source-js"><pre>    <span class="pl-k">...</span>
    { <span class="pl-s"><span class="pl-pds">"</span>keys<span class="pl-pds">"</span></span><span class="pl-k">:</span> [<span class="pl-s"><span class="pl-pds">"</span>ctrl+super+c<span class="pl-pds">"</span></span>], <span class="pl-s"><span class="pl-pds">"</span>command<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>go_oracle<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>args<span class="pl-pds">"</span></span><span class="pl-k">:</span> {<span class="pl-s"><span class="pl-pds">"</span>mode<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>callers<span class="pl-pds">"</span></span>} },
    { <span class="pl-s"><span class="pl-pds">"</span>keys<span class="pl-pds">"</span></span><span class="pl-k">:</span> [<span class="pl-s"><span class="pl-pds">"</span>ctrl+super+i<span class="pl-pds">"</span></span>], <span class="pl-s"><span class="pl-pds">"</span>command<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>go_oracle<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>args<span class="pl-pds">"</span></span><span class="pl-k">:</span> {<span class="pl-s"><span class="pl-pds">"</span>mode<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>implements<span class="pl-pds">"</span></span>} },
    { <span class="pl-s"><span class="pl-pds">"</span>keys<span class="pl-pds">"</span></span><span class="pl-k">:</span> [<span class="pl-s"><span class="pl-pds">"</span>ctrl+super+r<span class="pl-pds">"</span></span>], <span class="pl-s"><span class="pl-pds">"</span>command<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>go_oracle<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>args<span class="pl-pds">"</span></span><span class="pl-k">:</span> {<span class="pl-s"><span class="pl-pds">"</span>mode<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>referrers<span class="pl-pds">"</span></span>} },
    <span class="pl-k">...</span></pre></div>

<h2>
<a id="dependencies" class="anchor" href="#dependencies" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Dependencies</h2>

<p>GoOracle relies on the oracle tool. You must install it in order for GoOracle to work. Run the following on your command line:</p>

<p><code>go get code.google.com/p/go.tools/cmd/oracle</code></p>

<h2>
<a id="about-go-oracle" class="anchor" href="#about-go-oracle" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>About Go Oracle</h2>

<ul>
<li><a href="https://docs.google.com/document/d/1SLk36YRjjMgKqe490mSRzOPYEDe0Y_WQNRv-EiFYUyw/view#">User Manual</a></li>
<li><a href="https://docs.google.com/a/canonical.com/document/d/1WmMHBUjQiuy15JfEnT8YBROQmEv-7K6bV-Y_K53oi5Y/edit#heading=h.m6dk5m56ri4e">Design Document</a></li>
<li><a href="https://godoc.org/code.google.com/p/go.tools/oracle">GoDoc</a></li>
</ul>

<h1>
<a id="copyright-license--contributors" class="anchor" href="#copyright-license--contributors" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Copyright, License &amp; Contributors</h1>

<p>GoOracle is released under the MIT license. See <a href="LICENSE.md">LICENSE.md</a></p>

<p>GoOracle is the copyrighted work of <em>The GoOracle Authors</em> i.e me (<a href="https://github.com/waigani/GoOracle">waigani</a>) and <em>all</em> contributors. If you submit a change, be it documentation or code, so long as it's committed to GoOracle's history I consider you a contributor. See <a href="AUTHORS.md">AUTHORS.md</a> for a list of all the GoOracle authors/contributors.</p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/alvarolm">alvarolm</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-56774422-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
